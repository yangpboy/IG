<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IG Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Custom CSS -->
    <link href="css/ig.css" rel="stylesheet">
  
</head>
<body>
    <!-- Mobile header -->
    <nav class="navbar mobile-header d-flex d-md-none justify-content-between">
        <button id="mobileToggle" class="btn btn-link text-white p-0"><i class="fas fa-bars fa-lg"></i></button>
        <span class="h5 mb-0">Instagram</span>
    </nav>

    <div class="container-fluid d-flex p-0">
        <!-- Sidebar -->
        <nav id="sidebar" class="sidebar bg-black text-white d-none d-md-flex flex-column p-3">
            <button id="toggleBtn" class="btn btn-sm btn-outline-light mb-4"><i class="fas fa-bars"></i></button>
            <h2 class="logo mb-4">Instagram</h2>
            <ul class="nav nav-pills flex-column mb-auto">
                <li class="nav-item mb-2"><a href="#" class="nav-link text-white"><i class="fas fa-home me-2"></i><span class="link-text">首頁</span></a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link text-white"><i class="fas fa-search me-2"></i><span class="link-text">搜尋</span></a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link text-white"><i class="fas fa-compass me-2"></i><span class="link-text">探索</span></a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link text-white"><i class="fas fa-video me-2"></i><span class="link-text">連續短片</span></a></li>
                <li class="nav-item mb-2 position-relative"><a href="#" class="nav-link text-white"><i class="fas fa-comment me-2"></i><span class="link-text">訊息</span><span class="badge bg-danger position-absolute top-0 start-100 translate-middle">3</span></a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link text-white"><i class="far fa-heart me-2"></i><span class="link-text">通知</span></a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link text-white"><i class="fas fa-plus me-2"></i><span class="link-text">建立</span></a></li>
                <li class="nav-item"><a href="#" class="nav-link text-white"><img src="avatar.jpg" class="rounded-circle me-2" width="20"><span class="link-text">個人檔案</span></a></li>
            </ul>
            <hr class="border-secondary">
            <ul class="nav nav-pills flex-column">
                <li class="nav-item mb-2"><a href="#" class="nav-link text-white"><i class="fas fa-link me-2"></i><span class="link-text">Threads</span></a></li>
                <li class="nav-item"><a href="#" class="nav-link text-white"><i class="fas fa-bars me-2"></i><span class="link-text">更多</span></a></li>
            </ul>
        </nav>

        <!-- Main content -->
        <main class="main-content flex-grow-1 bg-dark text-white p-3">
            
            <!-- Stories row - Now centered to match post width -->
            <div class="story-container" id="storyScroll">
                <div class="story-avatar" data-user="you"><img src="https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG" alt="你的故事"><div class="story-name">your story</div></div>
                <div class="story-avatar" data-user="story1"><img src="https://platform.vox.com/wp-content/uploads/sites/2/chorus/uploads/chorus_asset/file/15443821/RAM_S2_Ep205.0.0.1505932128.jpg" alt="y0123"><div class="story-name">y01203</div></div>
                <div class="story-avatar" data-user="story2"><img src="https://dotandline.net/wp-content/uploads/2018/06/1_RlAYzmJ5wAfrsgNjueQtMw-1210x642.png" alt="ok0111223"><div class="story-name">ok0111223</div></div>
                <div class="story-avatar" data-user="story3"><img src="https://static1.srcdn.com/wordpress/wp-content/uploads/2022/08/Summer-in-Rick-and-Morty.jpg" alt="au___00010920"><div class="story-name">au___00010920</div></div>
                <div class="story-avatar" data-user="story1"><img src="https://platform.vox.com/wp-content/uploads/sites/2/chorus/uploads/chorus_asset/file/15443821/RAM_S2_Ep205.0.0.1505932128.jpg" alt="y0123"><div class="story-name">y01203</div></div>
                <div class="story-avatar" data-user="story2"><img src="https://dotandline.net/wp-content/uploads/2018/06/1_RlAYzmJ5wAfrsgNjueQtMw-1210x642.png" alt="ok0111223"><div class="story-name">ok0111223</div></div>
                <div class="story-avatar" data-user="story3"><img src="https://static1.srcdn.com/wordpress/wp-content/uploads/2022/08/Summer-in-Rick-and-Morty.jpg" alt="au___00010920"><div class="story-name">au___00010920</div></div>
                <div class="story-avatar" data-user="story1"><img src="https://platform.vox.com/wp-content/uploads/sites/2/chorus/uploads/chorus_asset/file/15443821/RAM_S2_Ep205.0.0.1505932128.jpg" alt="y0123"><div class="story-name">y01203</div></div>
                <div class="story-avatar" data-user="story2"><img src="https://dotandline.net/wp-content/uploads/2018/06/1_RlAYzmJ5wAfrsgNjueQtMw-1210x642.png" alt="ok0111223"><div class="story-name">ok0111223</div></div>
                <div class="story-avatar" data-user="story3"><img src="https://static1.srcdn.com/wordpress/wp-content/uploads/2022/08/Summer-in-Rick-and-Morty.jpg" alt="au___00010920"><div class="story-name">au___00010920</div></div>
                <!-- 可擴充更多 -->
            </div>

            <!-- Posts - Fixed consistent image size -- Added hover effect -->
             <!-- #第一篇 -->

            
            <div class="post-container mt-4">
                <div class="post-header d-flex align-items-center mb-3">
                    <img class="rounded-circle me-2" src="https://i.pinimg.com/736x/18/a9/c7/18a9c719a40d6190b59614ded5267720.jpg" alt="Profile" width="40">
                    <div><strong>Trallalero Trallala</strong> <span class="ms-2 text-secondary">· 2 小時</span></div>
                </div>
                <div class="post-image-container rounded">
                    <img src="https://i.pinimg.com/564x/0e/a0/10/0ea01086acba4cbb87caa6056a73b839.jpg" alt="Post Image">
                </div>
                <div class="post-actions d-flex gap-3 fs-4 mt-3"><i class="far fa-heart like-btn"></i><i class="far fa-comment"></i><i class="far fa-paper-plane"></i></div>
                <p class="mt-2"><strong>Trallalero Trallala</strong> trallalero trallala!🎶 #Example #good #蛤 #新潮</p>
                

                <!-- Comments -->
                <div class="post-comments mt-2"><strong>hi.000565</strong> burrrrrrr </div>
                <div class="post-comments mt-2"><strong>ij5</strong> 已購買，小孩愛吃 </div>
                <div class="post-comments mt-2"><strong>09090.__qq5</strong> 已購買，小孩愛吃 </div>

                <hr class="border-secondary">
            </div>

            <!-- #第二篇 -->
            <div class="post-container mt-4">
                <div class="post-header d-flex align-items-center mb-3">
                    <img class="rounded-circle me-2" src="https://i.pinimg.com/736x/18/a9/c7/18a9c719a40d6190b59614ded5267720.jpg" alt="Profile" width="40">
                    <div><strong>nasaaaaasasa</strong> <span class="ms-2 text-secondary">· 2 小時</span></div>
                </div>
                <div class="post-image-container rounded">
                    <img src="https://i.pinimg.com/736x/18/a9/c7/18a9c719a40d6190b59614ded5267720.jpg" alt="Post Image">
                </div>
                <div class="post-actions d-flex gap-3 fs-4 mt-3"><i class="far fa-heart like-btn"></i><i class="far fa-comment"></i><i class="far fa-paper-plane"></i></div>
                <p class="mt-2"><strong>nasaaaaasasa</strong> Halloween is just around the corner! 🎃👻 #Example #NASA #時尚 #新潮</p>

             

                <!-- Comments -->
                <div class="post-comments mt-2"><strong>hi.000565</strong> 原來這是 IG 的 Demo 網頁，包含了 Stories 和 Post 的設計。</div>
                <div class="post-comments mt-2"><strong>ij5</strong> 好吃</div>

                <hr class="border-secondary">
            </div>

             <!-- #第三篇 -->
             <div class="post-container mt-4">
                <div class="post-header d-flex align-items-center mb-3">
                    <img class="rounded-circle me-2" src="https://i.pinimg.com/736x/18/a9/c7/18a9c719a40d6190b59614ded5267720.jpg" alt="Profile" width="40">
                    <div><strong>nasaaaaasasa</strong> <span class="ms-2 text-secondary">· 2 小時</span></div>
                </div>
                <div class="post-image-container rounded">
                    <img src="https://i.pinimg.com/736x/18/a9/c7/18a9c719a40d6190b59614ded5267720.jpg" alt="Post Image">
                </div>
                <div class="post-actions d-flex gap-3 fs-4 mt-3"><i class="far fa-heart like-btn"></i><i class="far fa-comment"></i><i class="far fa-paper-plane"></i></div>
                <p class="mt-2"><strong>nasaaaaasasa</strong> Halloween is just around the corner! 🎃👻 #Example #NASA #時尚 #新潮</p>

             

                <!-- Comments -->
                <div class="post-comments mt-2"><strong>hi.000565</strong> 原來這是 IG 的 Demo 網頁，包含了 Stories 和 Post 的設計。</div>
                <div class="post-comments mt-2"><strong>ij5</strong> 好吃</div>

                <hr class="border-secondary">
            </div>
        </main>
    </div>

    <!-- Story Modal -->
    <div class="modal fade" id="storyModal" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content modal-fullscreen bg-black text-white">
                <div class="modal-body d-flex flex-column justify-content-center">
                    <div class="story-content position-relative">
                        <div class="progress-bar-container" id="progressBars"></div>
                        <img id="storyMedia" src="" alt="Story" class="w-100">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleBtn = document.getElementById('toggleBtn');
            const sidebar = document.getElementById('sidebar');
            const mobileToggle = document.getElementById('mobileToggle');
            const likeBtns = document.querySelectorAll('.like-btn');
            const storyScroll = document.getElementById('storyScroll');
            const storyAvatars = document.querySelectorAll('.story-avatar');
            const storyModalEl = document.getElementById('storyModal');
            const storyModal = new bootstrap.Modal(storyModalEl);
            const storyMedia = document.getElementById('storyMedia');
            const progressContainer = document.getElementById('progressBars');

            // Sidebar toggle - Modified for mobile
            toggleBtn.addEventListener('click', () => sidebar.classList.toggle('collapsed'));
            
            // Mobile toggle - Fixed to properly show/hide sidebar
            mobileToggle && mobileToggle.addEventListener('click', () => {
                sidebar.classList.toggle('mobile-active');
            });

            // Like buttons
            likeBtns.forEach(btn => btn.addEventListener('click', () => {
                btn.classList.toggle('far'); btn.classList.toggle('fas'); btn.classList.toggle('text-danger');
            }));

            // Auto scroll stories
            setInterval(() => {
                storyScroll.scrollBy({ left: 80, behavior: 'smooth' });
                if (storyScroll.scrollLeft + storyScroll.clientWidth >= storyScroll.scrollWidth) {
                    storyScroll.scrollTo({ left: 0, behavior: 'smooth' });
                }
            }, 3000);

            // Story data
            const stories = {
                you: ['https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG">','https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG">'],
                story1: ['https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG">','https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG'],
                story2: ['https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG">','https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG'],
                story3: ['https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG">','https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG'],
                story4: ['https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG','https://truth.bahamut.com.tw/s01/202103/f86a9cd8e5ed7bc270fb97693d7a3b03.JPG']
            };

            // Play stories
            storyAvatars.forEach(av => av.addEventListener('click', () => {
                const items = stories[av.getAttribute('data-user')];
                if (!items) return;
                let idx = 0;
                progressContainer.innerHTML = items.map(() => '<div class="progress-bar"><div class="progress-bar-fill"></div></div>').join('');
                const fills = progressContainer.querySelectorAll('.progress-bar-fill');
                storyModal.show();
                const next = () => {
                    if (idx >= items.length) return storyModal.hide();
                    storyMedia.src = items[idx];
                    fills.forEach(f => f.style.animation = 'none');
                    void fills[idx].offsetWidth;
                    fills[idx].style.animation = 'fillBar 3s linear forwards';
                    setTimeout(() => { idx++; next(); }, 3000);
                };
                next();
            }));
        });
    </script>
</body>
</html>